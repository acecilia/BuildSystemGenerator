name: "Podfile"
context: "global"
outputLevel: "root"
content: |
  install! 'cocoapods', :integrate_targets => false, :share_schemes_for_development_pods => true
  ¶
  use_frameworks!
  platform :ios, '{{global.minimumDeploymentTarget}}'
  ¶
  #################
  # Binary setup
  #################
  ¶
  # Use binaries instead of source code, to speed up builds
  $useBinaries = true
  ¶
  if $useBinaries
      plugin 'cocoapods-binary'
      enable_bitcode_for_prebuilt_frameworks!
  end
  ¶
  #################
  # Third party modules
  #################
  ¶
  {% for artifact in artifacts %}
  pod '{{artifact.name}}', '{{artifact.version}}', :binary => $useBinaries
  {% endfor %}
  ¶
  #################
  # First party modules
  #################
  ¶
  {% for module in modules %}
  pod '{{module.name}}', :path => '.', :testspecs => ['Tests']
  {% endfor %}
